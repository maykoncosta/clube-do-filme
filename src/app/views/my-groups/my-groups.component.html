<app-loader [show]="loading"></app-loader>

<div class="my-groups-container">
  <div class="my-groups-content">
    <h2>Meus Grupos</h2>

    <div *ngIf="loading" class="status-message">Carregando grupos...</div>
    <div *ngIf="!loading && groups.length === 0" class="status-message">Você ainda não participa de nenhum grupo.</div>

    <ul *ngIf="groups.length > 0" class="group-list">
      <li *ngFor="let group of groups" class="group-item">
        <div class="group-info">
          <strong class="group-name">{{ group.name }}</strong>
          <p class="group-date">Criado em: {{ group.createdAt?.toDate() | date:'short' }}</p>
          <div class="group-avatars">
            <ng-container *ngFor="let member of group.members">
              <div class="avatar-wrapper">
                <img [src]="'https://api.dicebear.com/7.x/avataaars/svg?seed=' + (member.avatarSeed || 'default')"
                  alt="{{ member.name }}" class="member-avatar" [title]="member.name" />
                </div>
            </ng-container>
          </div>
        </div>
        <a class="group-link" [routerLink]="['/grupo', group.id]">Ver grupo</a>
      </li>
    </ul>

  </div>
</div>